---
title: "Lighthouse CI: Automate Performance Testing in CI/CD"
description: "Learn how to use @lhci/cli to automate Lighthouse audits on every commit. Prevent performance regressions, enforce budgets, and track metrics over time."
navigation:
  title: Lighthouse CI
icon: i-heroicons-command-line
publishedAt: "2025-01-24"
keywords:
  - lighthouse ci
  - lighthouse-ci
  - lhci cli
  - "@lhci/cli"
  - performance testing ci
  - lighthouse automation
---

# Lighthouse CI

Lighthouse CI (LHCI) is Google's official tool for running Lighthouse audits in continuous integration pipelines. It catches performance regressions before they reach production.

## What is Lighthouse CI?

Lighthouse CI is a suite of tools that integrate Lighthouse into your CI/CD workflow:

- **@lhci/cli** — Command-line tool for running audits
- **@lhci/server** — Optional server for storing historical data
- **GitHub App** — Status checks on pull requests

## Why Use Lighthouse CI?

Without automated performance testing, regressions slip through:

1. Developer fixes performance issues
2. PR gets merged
3. Next week, someone adds a 500KB image
4. Performance tanks, nobody notices until users complain

LHCI solves this by running Lighthouse on every commit and failing builds that don't meet your standards.

## Key Features

- **Regression prevention** — Fail builds when [Core Web Vitals](/learn-lighthouse/core-web-vitals) like [LCP](/learn-lighthouse/lcp), [CLS](/learn-lighthouse/cls), and [TBT](/learn-lighthouse/tbt) (proxy for [INP](/learn-lighthouse/inp)) drop
- **Performance budgets** — Set thresholds for scores and resource sizes
- **Historical tracking** — Compare builds over time
- **Variance reduction** — Run multiple times, use median results
- **GitHub integration** — Status checks and PR comments

## Quick Start

Install and run:

```bash
npm install -g @lhci/cli
lhci autorun --collect.url=https://example.com --upload.target=temporary-public-storage
```

Or with a config file (`lighthouserc.js`):

```js
module.exports = {
  ci: {
    collect: {
      url: ['https://example.com/'],
    },
    upload: {
      target: 'temporary-public-storage',
    },
  },
}
```

Then run:

```bash
lhci autorun
```

## How It Works

The `lhci autorun` command executes three steps:

1. **collect** — Runs Lighthouse N times per URL
2. **assert** — Checks results against budgets/assertions
3. **upload** — Stores results (temporary storage, filesystem, or LHCI server)

Run `lhci healthcheck --fatal` separately to verify Chrome and config before autorun.

Results are saved to `.lighthouseci/` locally.

## What LHCI Measures

Lighthouse CI audits five categories on every run:

- **Performance** — [Core Web Vitals](/learn-lighthouse/core-web-vitals) ([LCP](/learn-lighthouse/lcp), [CLS](/learn-lighthouse/cls), [TBT](/learn-lighthouse/tbt) as proxy for [INP](/learn-lighthouse/inp)) and other speed metrics
- **Accessibility** — [Screen reader support, color contrast, ARIA](/learn-lighthouse/accessibility)
- **SEO** — [Meta tags, structured data, mobile-friendliness](/learn-lighthouse/seo)
- **Best Practices** — [HTTPS, console errors, deprecated APIs](/learn-lighthouse/best-practices)

Each category gets a 0-100 score. Set thresholds in your config to block merges when scores drop.

## Prerequisites

- Node.js 18+
- Chrome/Chromium installed
- A URL to test (can be localhost with `startServerCommand`)

## Tutorials

::card-group
  ::card{title="GitHub Actions" to="/learn-lighthouse/lighthouse-ci/github-actions" icon="i-simple-icons-githubactions"}
  Set up LHCI with GitHub Actions and status checks.
  ::
  ::card{title="GitLab CI" to="/learn-lighthouse/lighthouse-ci/gitlab-ci" icon="i-simple-icons-gitlab"}
  Configure LHCI for GitLab CI/CD pipelines.
  ::
  ::card{title="Configuration" to="/learn-lighthouse/lighthouse-ci/configuration" icon="i-heroicons-cog-6-tooth"}
  All lighthouserc.js options explained.
  ::
  ::card{title="Performance Budgets" to="/learn-lighthouse/lighthouse-ci/budgets" icon="i-heroicons-chart-bar"}
  Set and enforce performance thresholds.
  ::
  ::card{title="LHCI Server" to="/learn-lighthouse/lighthouse-ci/server" icon="i-heroicons-server"}
  Self-host a dashboard for historical tracking.
  ::
  ::card{title="Troubleshooting" to="/learn-lighthouse/lighthouse-ci/troubleshooting" icon="i-heroicons-wrench-screwdriver"}
  Fix common LHCI issues.
  ::
::

## Related

- [Core Web Vitals Guide](/learn-lighthouse/core-web-vitals) — Understand the metrics LHCI tracks
- [Bulk Lighthouse Testing](/learn-lighthouse/bulk-lighthouse-testing) — Test entire sites with Unlighthouse
- [LCP Guide](/learn-lighthouse/lcp) | [CLS Guide](/learn-lighthouse/cls) | [INP Guide](/learn-lighthouse/inp)

## Resources

- [GitHub Repository](https://github.com/GoogleChrome/lighthouse-ci)
- [Official Documentation](https://googlechrome.github.io/lighthouse-ci/)
- [npm Package](https://www.npmjs.com/package/@lhci/cli)
